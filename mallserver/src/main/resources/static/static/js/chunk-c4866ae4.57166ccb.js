(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c4866ae4"],{2599:function(e,t,l){},"34cd":function(e,t,l){"use strict";l.d(t,"d",(function(){return o})),l.d(t,"a",(function(){return i})),l.d(t,"b",(function(){return n})),l.d(t,"c",(function(){return r})),l.d(t,"f",(function(){return s})),l.d(t,"e",(function(){return c}));var a=l("b775");function o(){return Object(a["a"])({url:"/admin/mall/label/homeLabel",method:"get"})}function i(e){return Object(a["a"])({url:"/admin/mall/label/createLabel",method:"post",params:e})}function n(e){return Object(a["a"])({url:"/admin/mall/label/deleteLabel",method:"post",params:e})}function r(e){return Object(a["a"])({url:"/admin/mall/label/firstVideo",method:"post",params:e})}function s(e){return Object(a["a"])({url:"/admin/mall/label/officialLink",method:"post",params:e})}function c(e){return Object(a["a"])({url:"/common/mall/show/getMallConfigById",method:"get",params:e})}},"54da":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[l("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"标签图片"}},[l("el-upload",{ref:"upload",attrs:{action:"/mallserver/fileUpload/upload","list-type":"picture-card",name:"myFile","on-success":e.uploadSuccess,"on-error":e.uploadError,"on-remove":e.handleRemove,"on-preview":e.handlePictureCardPreview,"auto-upload":!1,"file-list":e.fileList,limit:1}},[l("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),e._v(" "),l("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1),e._v(" "),l("el-col",{attrs:{span:10}},[l("div",{staticClass:"demo-image__preview"},[l("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{src:e.value.labelPicture,"preview-src-list":e.pictureList}})],1)])],1),e._v(" "),l("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[l("el-col",{attrs:{span:5}},[l("el-form-item",{attrs:{label:"标签名称"}},[l("el-input",{model:{value:e.form.labelName,callback:function(t){e.$set(e.form,"labelName",t)},expression:"form.labelName"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:7}},[l("el-form-item",{attrs:{label:"商品标签"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return l("el-option",{key:e.id,attrs:{label:e.labelName,value:e}})})),1)],1)],1)],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("上传标签")]),e._v(" "),l("el-button",{on:{click:e.onCancel}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{type:"success"},on:{click:e.myUpload}},[e._v("上传标签图片")]),e._v(" "),l("el-button",{attrs:{type:"danger"},on:{click:e.deletePicture}},[e._v("删除标签")])],1)],1)],1)},o=[],i=l("2d63"),n=l("34cd"),r={data:function(){return{fileList:[],options:[],pictureList:[],value:"",form:{labelName:"",labelPicture:""},dialogImageUrl:"",dialogVisible:!1,disabled:!1}},mounted:function(){var e=this;Object(n["d"])().then((function(t){e.options=t.data;var l,a=Object(i["a"])(t.data);try{for(a.s();!(l=a.n()).done;){var o=l.value;e.pictureList.push(o.labelPicture)}}catch(n){a.e(n)}finally{a.f()}}))},methods:{uploadSuccess:function(e,t,l){this.form.labelPicture=e,console.log(this.form.labelPicture),this.$message("上传成功"+e.data)},uploadError:function(e,t,l){console.log("error"),this.$message("上传失败")},myUpload:function(){this.$refs.upload.submit()},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0,console.log(e)},handleRemove:function(e){console.log(e)},deletePicture:function(){null!=this.value&&Object(n["b"])({id:this.value.id}).then((function(e){console.log(e),window.location.reload()}))},onSubmit:function(){var e=this;Object(n["a"])(this.form).then((function(t){console.log(t),e.$refs.form.resetFields(),location.reload()}))},onCancel:function(){this.$message({message:"cancel!",type:"warning"})}}},s=r,c=(l("b5e7"),l("2877")),u=Object(c["a"])(s,a,o,!1,null,"62729db8",null);t["default"]=u.exports},b5e7:function(e,t,l){"use strict";var a=l("2599"),o=l.n(a);o.a}}]);